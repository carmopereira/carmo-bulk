{"version":3,"file":"view.js","mappings":"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","sources":["webpack://carmo-bulk/external module \"@wordpress/interactivity\"","webpack://carmo-bulk/webpack/bootstrap","webpack://carmo-bulk/webpack/runtime/make namespace object","webpack://carmo-bulk/./src/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { store, getContext } from '@wordpress/interactivity';\n\n// Namespace global para o plugin\nwindow.CarmoBulk = window.CarmoBulk || {};\n\nconst { state } = store( 'create-block', {\n\tstate: {\n\t\tget themeText() {\n\t\t\treturn state.isDark ? state.darkText : state.lightText;\n\t\t},\n\t},\n\tactions: {\n\t\ttoggleOpen() {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isOpen = ! context.isOpen;\n\t\t},\n\t\ttoggleTheme() {\n\t\t\tstate.isDark = ! state.isDark;\n\t\t},\n\t\tclearCart() {\n\t\t\tif (confirm('Tem certeza que deseja limpar o carrinho?')) {\n\t\t\t\tjQuery.ajax({\n\t\t\t\t\turl: '/wp-json/wc/store/v1/cart/items',\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tbeforeSend: function(xhr) {\n\t\t\t\t\t\txhr.setRequestHeader('X-WC-Store-API-Nonce', document.getElementById('carmo-bulk-form').dataset.nonce);\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function(response) {\n\t\t\t\t\t\tdocument.querySelectorAll('.quantity-input').forEach(input => {\n\t\t\t\t\t\t\tinput.value = '0';\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tdocument.querySelectorAll('.cart-item-key').forEach(input => {\n\t\t\t\t\t\t\tinput.value = '';\n\t\t\t\t\t\t});\n\t\t\t\t\t\tupdateFooterCart();\n\t\t\t\t\t\tshowNotification('Carrinho limpo com sucesso');\n\t\t\t\t\t},\n\t\t\t\t\terror: function(jqXHR) {\n\t\t\t\t\t\tshowNotification('Erro ao limpar carrinho', 'error');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\tcallbacks: {\n\t\tlogIsOpen: () => {\n\t\t\tconst { isOpen } = getContext();\n\t\t\t// Log the value of `isOpen` each time it changes.\n\t\t\tconsole.log( `Is open: ${ isOpen }` );\n\t\t},\n\t},\n} );\n\ndocument.addEventListener('DOMContentLoaded', function() {\n\t// Função para criar o carrinho flutuante\n\twindow.CarmoBulk.createFloatingCart = function() {\n\t\t// Implementar lógica do carrinho flutuante aqui\n\t\tconsole.log('Carrinho flutuante criado');\n\t};\n\n\tfunction handleQuantityChange(input, newValue) {\n\t\tif (!input) {\n\t\t\treturn Promise.reject(new Error('Input não encontrado'));\n\t\t}\n\t\t\n\t\tconst productId = input.dataset.productId;\n\t\tconsole.log('Debug: Alterando quantidade para produto', {\n\t\t\tproductId: productId,\n\t\t\tnewValue: newValue,\n\t\t\tinputValue: input.value\n\t\t});\n\t\t\n\t\tif (!productId) {\n\t\t\treturn Promise.reject(new Error('ID do produto não encontrado'));\n\t\t}\n\t\t\n\t\tconst row = input.closest('tr');\n\t\tif (!row) {\n\t\t\treturn Promise.reject(new Error('Linha da tabela não encontrada'));\n\t\t}\n\t\t\n\t\tconst cartItemKeyInput = row.querySelector('.cart-item-key');\n\t\tconst cartItemKey = cartItemKeyInput ? cartItemKeyInput.value : '';\n\t\tconsole.log('Debug: Cart Item Key', {\n\t\t\tcartItemKey: cartItemKey,\n\t\t\texists: !!cartItemKey\n\t\t});\n\n\t\t// Se a quantidade for zero e temos um cartItemKey, removemos o item\n\t\tif (newValue === 0 && cartItemKey) {\n\t\t\treturn removeFromCart(cartItemKey).then(() => {\n\t\t\t\tif (cartItemKeyInput) {\n\t\t\t\t\tcartItemKeyInput.value = '';\n\t\t\t\t}\n\t\t\t\treturn { removed: true };\n\t\t\t});\n\t\t}\n\n\t\treturn updateCart(productId, null, newValue, cartItemKey).then(response => {\n\t\t\t// Aqui está a correção: atualizar o cartItemKey após o sucesso da operação\n\t\t\tif (response && response.key) {\n\t\t\t\t// Se não existe o input para o cartItemKey, criamos um\n\t\t\t\tif (!cartItemKeyInput) {\n\t\t\t\t\tconst newCartItemKeyInput = document.createElement('input');\n\t\t\t\t\tnewCartItemKeyInput.type = 'hidden';\n\t\t\t\t\tnewCartItemKeyInput.className = 'cart-item-key';\n\t\t\t\t\trow.querySelector('.product-quantity').appendChild(newCartItemKeyInput);\n\t\t\t\t\tnewCartItemKeyInput.value = response.key;\n\t\t\t\t} else {\n\t\t\t\t\tcartItemKeyInput.value = response.key;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn response;\n\t\t});\n\t}\n\n\t// Nova função para remover item do carrinho\n\tfunction removeFromCart(cartItemKey) {\n\t\tconsole.log('Debug: Removendo item do carrinho', cartItemKey);\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tjQuery.ajax({\n\t\t\t\turl: '/wp-json/wc/store/v1/cart/items/' + cartItemKey,\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tbeforeSend: function(xhr) {\n\t\t\t\t\txhr.setRequestHeader('X-WC-Store-API-Nonce', document.getElementById('carmo-bulk-form').dataset.nonce);\n\t\t\t\t},\n\t\t\t\tsuccess: function(response) {\n\t\t\t\t\tconsole.log('Debug: Item removido com sucesso', response);\n\t\t\t\t\tresolve(response);\n\t\t\t\t},\n\t\t\t\terror: function(error) {\n\t\t\t\t\tconsole.log('Debug: Erro ao remover item', error);\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction updateCart(productId, variationId, quantity, cartItemKey) {\n\t\tconsole.log('Debug: Iniciando updateCart', {\n\t\t\tproductId,\n\t\t\tvariationId,\n\t\t\tquantity,\n\t\t\tcartItemKey\n\t\t});\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst data = {\n\t\t\t\tid: productId,\n\t\t\t\tquantity: quantity\n\t\t\t};\n\n\t\t\tif (variationId) {\n\t\t\t\tdata.variation_id = variationId;\n\t\t\t}\n\n\t\t\tlet ajaxConfig = {\n\t\t\t\tbeforeSend: function(xhr) {\n\t\t\t\t\txhr.setRequestHeader('X-WC-Store-API-Nonce', document.getElementById('carmo-bulk-form').dataset.nonce);\n\t\t\t\t},\n\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\tcontentType: 'application/json',\n\t\t\t\tsuccess: function(response) {\n\t\t\t\t\tconsole.log('Debug: Sucesso na atualização', response);\n\t\t\t\t\tresolve(response);\n\t\t\t\t},\n\t\t\t\terror: function(error) {\n\t\t\t\t\tconsole.log('Debug: Erro na atualização', error);\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (cartItemKey) {\n\t\t\t\tconsole.log('Debug: Atualizando item existente', cartItemKey);\n\t\t\t\tjQuery.ajax({\n\t\t\t\t\t...ajaxConfig,\n\t\t\t\t\turl: '/wp-json/wc/store/v1/cart/items/' + cartItemKey,\n\t\t\t\t\tmethod: 'PUT'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconsole.log('Debug: Adicionando novo item');\n\t\t\t\tjQuery.ajax({\n\t\t\t\t\t...ajaxConfig,\n\t\t\t\t\turl: '/wp-json/wc/store/v1/cart/items',\n\t\t\t\t\tmethod: 'POST'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction showNotification(message, type = 'success') {\n\t\tconst notification = document.getElementById('carmo-notification');\n\t\tif (notification) {\n\t\t\tnotification.textContent = message;\n\t\t\tnotification.className = 'carmo-notification ' + type;\n\t\t\tnotification.style.display = 'block';\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tnotification.style.display = 'none';\n\t\t\t}, 3000);\n\t\t}\n\t}\n\n\tfunction updateFooterCart() {\n\t\t// Remover aria-hidden antes de atualizar\n\t\tconst siteBlocks = document.querySelector('.wp-site-blocks');\n\t\tif (siteBlocks) {\n\t\t\tsiteBlocks.removeAttribute('aria-hidden');\n\t\t}\n\n\t\t// Atualizar o carrinho diretamente\n\t\tjQuery.ajax({\n\t\t\turl: wc_cart_fragments_params.wc_ajax_url.toString().replace('%%endpoint%%', 'get_refreshed_fragments'),\n\t\t\ttype: 'POST',\n\t\t\tsuccess: function(data) {\n\t\t\t\tif (data && data.fragments) {\n\t\t\t\t\tjQuery.each(data.fragments, function(key, value) {\n\t\t\t\t\t\tjQuery(key).replaceWith(value);\n\t\t\t\t\t});\n\t\t\t\t\tjQuery(document.body).trigger('wc_fragments_refreshed');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// Adicionar listener para quando os fragmentos são atualizados\n\tjQuery(document.body).on('wc_fragments_refreshed', function() {\n\t\t// Restaurar o foco ao elemento apropriado\n\t\tconst activeElement = document.activeElement;\n\t\tif (activeElement && activeElement.classList.contains('quantity-button')) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tactiveElement.focus();\n\t\t\t}, 0);\n\t\t}\n\t});\n\n\t// Manipulador para os botões de produto\n\tdocument.body.addEventListener('click', async function(e) {\n\t\tconst productButton = e.target.closest('.quantity-button');\n\t\tif (!productButton) return;\n\t\t\n\t\te.preventDefault();\n\t\t\n\t\t// Encontra a linha da tabela (tr) primeiro\n\t\tconst row = productButton.closest('tr');\n\t\tif (!row) return;\n\t\t\n\t\t// Encontra o input de quantidade na mesma linha\n\t\tconst input = row.querySelector('.quantity-input');\n\t\tif (!input) return;\n\t\t\n\t\tconst currentValue = parseInt(input.value) || 0;\n\t\tlet increment = 0;\n\t\t\n\t\t// Verifica qual botão foi clicado\n\t\tif (productButton.classList.contains('product-plus-one')) increment = 1;\n\t\telse if (productButton.classList.contains('product-plus-five')) increment = 5;\n\t\telse if (productButton.classList.contains('product-plus-ten')) increment = 10;\n\t\t\n\t\tif (increment > 0) {\n\t\t\tconst newValue = currentValue + increment;\n\t\t\tinput.value = newValue;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tawait handleQuantityChange(input, newValue);\n\t\t\t\tshowNotification('Quantidade atualizada com sucesso');\n\t\t\t\tupdateFooterCart();\n\t\t\t} catch (error) {\n\t\t\t\tshowNotification('Erro ao atualizar quantidade', 'error');\n\t\t\t\tinput.value = currentValue; // Reverte para o valor anterior em caso de erro\n\t\t\t}\n\t\t}\n\n\t\t// Novo listener para o botão de reset de categoria\n\t\tif (e.target.matches('.category-reset-button')) {\n\t\t\tconst categoryId = e.target.dataset.categoryId;\n\t\t\tif (categoryId) {\n\t\t\t\tawait resetCategory(categoryId);\n\t\t\t}\n\t\t}\n\t});\n\n\t// Manipulador para o evento keypress nos inputs de quantidade\n\tdocument.body.addEventListener('keypress', async function(e) {\n\t\tif (e.target.matches('.quantity-input') && e.key === 'Enter') {\n\t\t\te.preventDefault(); // Previne o comportamento padrão do Enter\n\t\t\t\n\t\t\tconst input = e.target;\n\t\t\tconst newValue = parseInt(input.value) || 0;\n\t\t\tconst oldValue = parseInt(input.dataset.lastValue) || 0;\n\t\t\t\n\t\t\tconsole.log('Debug: Keypress event', {\n\t\t\t\tkey: e.key,\n\t\t\t\toldValue: oldValue,\n\t\t\t\tnewValue: newValue,\n\t\t\t\tinputValue: input.value,\n\t\t\t\tdatasetLastValue: input.dataset.lastValue,\n\t\t\t\thasCartKey: !!input.closest('tr').querySelector('.cart-item-key').value\n\t\t\t});\n\t\t\t\n\t\t\t// Se o valor for zero e existe um cartItemKey, sempre processa\n\t\t\tconst cartItemKey = input.closest('tr').querySelector('.cart-item-key').value;\n\t\t\tconst forceProcess = newValue === 0 && cartItemKey;\n\t\t\t\n\t\t\t// Processa se o valor mudou OU se estamos forçando a remoção com zero\n\t\t\tif (newValue !== oldValue || forceProcess) {\n\t\t\t\ttry {\n\t\t\t\t\tconst result = await handleQuantityChange(input, newValue);\n\t\t\t\t\tinput.dataset.lastValue = newValue;\n\t\t\t\t\tif (result.removed) {\n\t\t\t\t\t\tshowNotification('Produto removido do carrinho');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowNotification('Quantidade atualizada com sucesso');\n\t\t\t\t\t}\n\t\t\t\t\tupdateFooterCart();\n\t\t\t\t\tinput.blur(); // Remove o foco do input\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log('Debug: Erro no keypress event', error);\n\t\t\t\t\tshowNotification('Erro ao atualizar quantidade', 'error');\n\t\t\t\t\tinput.value = oldValue; // Reverte para o valor anterior em caso de erro\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinput.blur(); // Remove o foco mesmo se não houver mudança\n\t\t\t}\n\t\t}\n\t});\n\n\t// Atualiza o valor inicial dos inputs\n\tdocument.querySelectorAll('.quantity-input').forEach(input => {\n\t\tinput.dataset.lastValue = input.value;\n\t});\n\n\t// Atualiza o último valor válido quando o input perde o foco\n\tdocument.body.addEventListener('blur', function(e) {\n\t\tif (e.target.matches('.quantity-input')) {\n\t\t\tconst input = e.target;\n\t\t\tconst currentValue = parseInt(input.value) || 0;\n\t\t\tinput.dataset.lastValue = currentValue;\n\t\t}\n\t}, true);\n\n\t// Também atualizamos o evento change para manter consistência\n\tdocument.body.addEventListener('change', async function(e) {\n\t\tif (e.target.matches('.quantity-input')) {\n\t\t\tconst input = e.target;\n\t\t\tconst newValue = parseInt(input.value) || 0;\n\t\t\tconst oldValue = parseInt(input.dataset.lastValue) || 0;\n\t\t\t\n\t\t\tconst cartItemKey = input.closest('tr').querySelector('.cart-item-key').value;\n\t\t\tconst forceProcess = newValue === 0 && cartItemKey;\n\t\t\t\n\t\t\tif (newValue !== oldValue || forceProcess) {\n\t\t\t\tconsole.log('Debug: Change event', {\n\t\t\t\t\toldValue: oldValue,\n\t\t\t\t\tnewValue: newValue,\n\t\t\t\t\tinputValue: input.value,\n\t\t\t\t\tdatasetLastValue: input.dataset.lastValue,\n\t\t\t\t\thasCartKey: !!cartItemKey\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tconst result = await handleQuantityChange(input, newValue);\n\t\t\t\t\tinput.dataset.lastValue = newValue;\n\t\t\t\t\tif (result.removed) {\n\t\t\t\t\t\tshowNotification('Produto removido do carrinho');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowNotification('Quantidade atualizada com sucesso');\n\t\t\t\t\t}\n\t\t\t\t\tupdateFooterCart();\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log('Debug: Erro no change event', error);\n\t\t\t\t\tshowNotification('Erro ao atualizar quantidade', 'error');\n\t\t\t\t\tinput.value = oldValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Inicializa os valores do carrinho\n\tfunction updateQuantitiesFromCart() {\n\t\tconsole.log('Debug: Iniciando updateQuantitiesFromCart');\n\t\t\n\t\t// Tentar uma abordagem diferente usando o endpoint do Store API do WooCommerce\n\t\tjQuery.ajax({\n\t\t\turl: '/wp-json/wc/store/v1/cart',\n\t\t\ttype: 'GET',\n\t\t\tbeforeSend: function(xhr) {\n\t\t\t\tconst nonceElement = document.getElementById('carmo-bulk-form');\n\t\t\t\tif (nonceElement && nonceElement.dataset.nonce) {\n\t\t\t\t\txhr.setRequestHeader('X-WC-Store-API-Nonce', nonceElement.dataset.nonce);\n\t\t\t\t}\n\t\t\t},\n\t\t\tsuccess: function(response) {\n\t\t\t\tconsole.log('Debug: Resposta da Store API recebida');\n\t\t\t\t\n\t\t\t\t// Mapear produtos no carrinho\n\t\t\t\tconst productsInCart = {};\n\t\t\t\t\n\t\t\t\tif (response && response.items && Array.isArray(response.items)) {\n\t\t\t\t\tconsole.log('Debug: Encontrados', response.items.length, 'itens no carrinho');\n\t\t\t\t\t\n\t\t\t\t\tresponse.items.forEach(item => {\n\t\t\t\t\t\t// O ID pode estar em diferentes locais dependendo da estrutura\n\t\t\t\t\t\tconst productId = item.id || \n\t\t\t\t\t\t\t\t\t\t(item.product_id ? item.product_id.toString() : null) || \n\t\t\t\t\t\t\t\t\t\t(item.product && item.product.id ? item.product.id.toString() : null);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (productId) {\n\t\t\t\t\t\t\tproductsInCart[productId] = {\n\t\t\t\t\t\t\t\tquantity: item.quantity,\n\t\t\t\t\t\t\t\tkey: item.key\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('Debug: Estrutura de resposta não reconhecida ou carrinho vazio');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Encontrar todos os inputs de quantidade\n\t\t\t\tconst inputs = document.querySelectorAll('.quantity-input');\n\t\t\t\tconsole.log('Debug: Total de inputs encontrados', inputs.length);\n\t\t\t\t\n\t\t\t\t// Reset todos os inputs primeiro (opção 1: zerar tudo)\n\t\t\t\tinputs.forEach(function(input) {\n\t\t\t\t\tconst productId = input.dataset.productId;\n\t\t\t\t\tconst row = input.closest('tr');\n\t\t\t\t\tif (!row) return;\n\t\t\t\t\t\n\t\t\t\t\t// Verifica se o produto está no carrinho\n\t\t\t\t\tif (productsInCart[productId]) {\n\t\t\t\t\t\tconst cartInfo = productsInCart[productId];\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Atualiza o input com a quantidade\n\t\t\t\t\t\tinput.value = cartInfo.quantity;\n\t\t\t\t\t\tinput.dataset.lastValue = cartInfo.quantity;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Atualiza ou cria o cartItemKey\n\t\t\t\t\t\tlet cartItemKeyInput = row.querySelector('.cart-item-key');\n\t\t\t\t\t\tif (!cartItemKeyInput) {\n\t\t\t\t\t\t\tcartItemKeyInput = document.createElement('input');\n\t\t\t\t\t\t\tcartItemKeyInput.type = 'hidden';\n\t\t\t\t\t\t\tcartItemKeyInput.className = 'cart-item-key';\n\t\t\t\t\t\t\trow.querySelector('.product-quantity').appendChild(cartItemKeyInput);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tcartItemKeyInput.value = cartInfo.key;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Zera o input\n\t\t\t\t\t\tinput.value = 0;\n\t\t\t\t\t\tinput.dataset.lastValue = 0;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Limpa o cartItemKey se existir\n\t\t\t\t\t\tconst cartItemKeyInput = row.querySelector('.cart-item-key');\n\t\t\t\t\t\tif (cartItemKeyInput) {\n\t\t\t\t\t\t\tcartItemKeyInput.value = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\terror: function(error) {\n\t\t\t\tconsole.log('Debug: Erro ao obter carrinho via Store API', error);\n\t\t\t\t\n\t\t\t\t// Tenta o método alternativo como fallback\n\t\t\t\tif (typeof wc_cart_fragments_params !== 'undefined') {\n\t\t\t\t\tjQuery.ajax({\n\t\t\t\t\t\turl: wc_cart_fragments_params.wc_ajax_url.toString().replace('%%endpoint%%', 'get_refreshed_fragments'),\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\tconsole.log('Debug: Fragments obtidos');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Atualiza os fragmentos\n\t\t\t\t\t\t\tif (data && data.fragments) {\n\t\t\t\t\t\t\t\tjQuery.each(data.fragments, function(key, value) {\n\t\t\t\t\t\t\t\t\tjQuery(key).replaceWith(value);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Trigger eventos do WooCommerce\n\t\t\t\t\t\t\tjQuery(document.body).trigger('wc_fragments_refreshed');\n\t\t\t\t\t\t\tjQuery(document.body).trigger('updated_cart_totals');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// Inicializa o estado do carrinho\n\tupdateQuantitiesFromCart();\n\n\tconst orderbySelect = document.querySelector('.carmo-orderby');\n\tif (orderbySelect) {\n\t\torderbySelect.addEventListener('change', function(e) {\n\t\t\tconst category = this.dataset.category;\n\t\t\tconst orderby = this.value;\n\t\t\t\n\t\t\t// Recarrega a página com os novos parâmetros de ordenação\n\t\t\tconst url = new URL(window.location);\n\t\t\turl.searchParams.set('orderby', orderby);\n\t\t\turl.searchParams.set('category', category);\n\t\t\twindow.location.href = url.toString();\n\t\t});\n\t}\n\n\t// Adicione uma função para processar o reset de categoria\n\tasync function resetCategory(categoryId) {\n\t\tconsole.log('Debug: Iniciando resetCategory', { categoryId });\n\t\t\n\t\t// Encontra todos os inputs de quantidade para esta categoria\n\t\tconst categoryInputs = document.querySelectorAll(`.quantity-input[data-category-id=\"${categoryId}\"]`);\n\t\t\n\t\tif (!categoryInputs.length) {\n\t\t\tconsole.log('Debug: Nenhum produto encontrado na categoria');\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tlet promises = [];\n\t\tlet productsRemoved = 0;\n\t\tlet itemsToRemove = [];\n\t\t\n\t\t// Primeiro coletamos todos os itens que precisam ser removidos\n\t\tfor (const input of categoryInputs) {\n\t\t\tconst row = input.closest('tr');\n\t\t\tif (!row) continue;\n\t\t\t\n\t\t\t// Zeramos o input de qualquer forma\n\t\t\tinput.value = 0;\n\t\t\tinput.dataset.lastValue = 0;\n\t\t\t\n\t\t\t// Verifica se existe cartItemKey\n\t\t\tconst cartItemKeyInput = row.querySelector('.cart-item-key');\n\t\t\tif (!cartItemKeyInput || !cartItemKeyInput.value) {\n\t\t\t\tcontinue; // Não está no carrinho, pula para o próximo\n\t\t\t}\n\t\t\t\n\t\t\tconst cartItemKey = cartItemKeyInput.value;\n\t\t\titemsToRemove.push({\n\t\t\t\tinput: input,\n\t\t\t\tcartItemKey: cartItemKey,\n\t\t\t\tcartItemKeyInput: cartItemKeyInput,\n\t\t\t\tproductId: input.dataset.productId\n\t\t\t});\n\t\t}\n\t\t\n\t\tconsole.log('Debug: Itens para remover', itemsToRemove.length);\n\t\t\n\t\t// Agora removemos um por um, sequencialmente para evitar problemas\n\t\tfor (const item of itemsToRemove) {\n\t\t\ttry {\n\t\t\t\tconsole.log('Debug: Removendo item do carrinho', item.cartItemKey, 'produto ID:', item.productId);\n\t\t\t\tawait removeFromCart(item.cartItemKey);\n\t\t\t\t\n\t\t\t\t// Limpa o cartItemKey\n\t\t\t\titem.cartItemKeyInput.value = '';\n\t\t\t\tproductsRemoved++;\n\t\t\t\t\n\t\t\t\t// Pequena pausa para garantir que o servidor processe cada remoção\n\t\t\t\tawait new Promise(resolve => setTimeout(resolve, 100));\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('Debug: Erro ao remover produto', { \n\t\t\t\t\tcartItemKey: item.cartItemKey, \n\t\t\t\t\tproductId: item.productId, \n\t\t\t\t\terror \n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (productsRemoved > 0) {\n\t\t\tshowNotification(`${productsRemoved} produtos removidos da categoria`);\n\t\t\t\n\t\t\t// Espera um pouco antes de atualizar o minicart para garantir que o servidor processou tudo\n\t\t\tsetTimeout(() => {\n\t\t\t\tupdateFooterCart();\n\t\t\t}, 500);\n\t\t\t\n\t\t\t// Após a remoção, verifica se todos foram realmente removidos\n\t\t\tsetTimeout(() => {\n\t\t\t\tverifyCartItems(itemsToRemove.map(item => item.cartItemKey));\n\t\t\t}, 1000);\n\t\t} else {\n\t\t\tshowNotification('Nenhum produto no carrinho para remover');\n\t\t}\n\t}\n\n\t// Nova função para verificar se os itens foram realmente removidos\n\tfunction verifyCartItems(removedKeys) {\n\t\tjQuery.ajax({\n\t\t\turl: '/wp-json/wc/store/v1/cart',\n\t\t\ttype: 'GET',\n\t\t\tbeforeSend: function(xhr) {\n\t\t\t\tconst nonceElement = document.getElementById('carmo-bulk-form');\n\t\t\t\tif (nonceElement && nonceElement.dataset.nonce) {\n\t\t\t\t\txhr.setRequestHeader('X-WC-Store-API-Nonce', nonceElement.dataset.nonce);\n\t\t\t\t}\n\t\t\t},\n\t\t\tsuccess: function(response) {\n\t\t\t\tif (response && response.items && Array.isArray(response.items)) {\n\t\t\t\t\t// Verifica se algum dos itens que deveriam ter sido removidos ainda existe\n\t\t\t\t\tconst remainingItems = response.items.filter(item => \n\t\t\t\t\t\tremovedKeys.includes(item.key)\n\t\t\t\t\t);\n\t\t\t\t\t\n\t\t\t\t\tif (remainingItems.length > 0) {\n\t\t\t\t\t\tconsole.log('AVISO: Alguns itens não foram removidos corretamente:', remainingItems);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Tenta remover novamente os itens que persistiram\n\t\t\t\t\t\tremainingItems.forEach(item => {\n\t\t\t\t\t\t\tconsole.log('Tentando remover item persistente:', item.key);\n\t\t\t\t\t\t\tremoveFromCart(item.key).then(() => {\n\t\t\t\t\t\t\t\tconsole.log('Item persistente removido com sucesso');\n\t\t\t\t\t\t\t\tupdateFooterCart();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('Todos os itens foram removidos com sucesso');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// Adiciona o event listener para o botão de reset\n\tdocument.body.addEventListener('click', function(e) {\n\t\tconsole.log('Debug: Click event', {\n\t\t\ttarget: e.target.tagName,\n\t\t\tclassName: e.target.className,\n\t\t\tisResetButton: e.target.matches('.category-reset-button')\n\t\t});\n\t\t\n\t\t// Novo listener para o botão de reset de categoria\n\t\tif (e.target.matches('.category-reset-button')) {\n\t\t\tconst categoryId = e.target.dataset.categoryId;\n\t\t\tconsole.log('Debug: Botão reset clicado', { categoryId });\n\t\t\t\n\t\t\tif (categoryId) {\n\t\t\t\tresetCategory(categoryId).catch(error => {\n\t\t\t\t\tconsole.log('Debug: Erro ao executar resetCategory', error);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconsole.log('Debug: categoryId não encontrado no botão');\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Lógica existente para outros botões...\n\t});\n});\n"],"names":["store","getContext","window","CarmoBulk","state","themeText","isDark","darkText","lightText","actions","toggleOpen","context","isOpen","toggleTheme","clearCart","confirm","jQuery","ajax","url","method","beforeSend","xhr","setRequestHeader","document","getElementById","dataset","nonce","success","response","querySelectorAll","forEach","input","value","updateFooterCart","showNotification","error","jqXHR","callbacks","logIsOpen","console","log","addEventListener","createFloatingCart","handleQuantityChange","newValue","Promise","reject","Error","productId","inputValue","row","closest","cartItemKeyInput","querySelector","cartItemKey","exists","removeFromCart","then","removed","updateCart","key","newCartItemKeyInput","createElement","type","className","appendChild","resolve","variationId","quantity","data","id","variation_id","ajaxConfig","JSON","stringify","contentType","message","notification","textContent","style","display","setTimeout","siteBlocks","removeAttribute","wc_cart_fragments_params","wc_ajax_url","toString","replace","fragments","each","replaceWith","body","trigger","on","activeElement","classList","contains","focus","e","productButton","target","preventDefault","currentValue","parseInt","increment","matches","categoryId","resetCategory","oldValue","lastValue","datasetLastValue","hasCartKey","forceProcess","result","blur","updateQuantitiesFromCart","nonceElement","productsInCart","items","Array","isArray","length","item","product_id","product","inputs","cartInfo","orderbySelect","category","orderby","URL","location","searchParams","set","href","categoryInputs","promises","productsRemoved","itemsToRemove","push","verifyCartItems","map","removedKeys","remainingItems","filter","includes","tagName","isResetButton","catch"],"sourceRoot":""}