{"version":3,"file":"view.js","mappings":"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","sources":["webpack://carmo-bulk/external module \"@wordpress/interactivity\"","webpack://carmo-bulk/webpack/bootstrap","webpack://carmo-bulk/webpack/runtime/make namespace object","webpack://carmo-bulk/./src/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { store, getContext } from '@wordpress/interactivity';\n\n// Namespace global para o plugin\nwindow.CarmoBulk = window.CarmoBulk || {};\n\nconst { state } = store( 'create-block', {\n\tstate: {\n\t\tget themeText() {\n\t\t\treturn state.isDark ? state.darkText : state.lightText;\n\t\t},\n\t},\n\tactions: {\n\t\ttoggleOpen() {\n\t\t\tconst context = getContext();\n\t\t\tcontext.isOpen = ! context.isOpen;\n\t\t},\n\t\ttoggleTheme() {\n\t\t\tstate.isDark = ! state.isDark;\n\t\t},\n\t\tclearCart() {\n\t\t\tif (confirm('Tem certeza que deseja limpar o carrinho?')) {\n\t\t\t\tjQuery.ajax({\n\t\t\t\t\turl: '/wp-json/wc/store/v1/cart/items',\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\tbeforeSend: function(xhr) {\n\t\t\t\t\t\txhr.setRequestHeader('X-WC-Store-API-Nonce', document.getElementById('carmo-bulk-form').dataset.nonce);\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function(response) {\n\t\t\t\t\t\tdocument.querySelectorAll('.quantity-input').forEach(input => {\n\t\t\t\t\t\t\tinput.value = '0';\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tdocument.querySelectorAll('.cart-item-key').forEach(input => {\n\t\t\t\t\t\t\tinput.value = '';\n\t\t\t\t\t\t});\n\t\t\t\t\t\tupdateFooterCart();\n\t\t\t\t\t\tshowNotification('Carrinho limpo com sucesso');\n\t\t\t\t\t},\n\t\t\t\t\terror: function(jqXHR) {\n\t\t\t\t\t\tshowNotification('Erro ao limpar carrinho', 'error');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\tcallbacks: {\n\t\tlogIsOpen: () => {\n\t\t\tconst { isOpen } = getContext();\n\t\t\t// Log the value of `isOpen` each time it changes.\n\t\t\tconsole.log( `Is open: ${ isOpen }` );\n\t\t},\n\t},\n} );\n\ndocument.addEventListener('DOMContentLoaded', function() {\n\t// Função para criar o carrinho flutuante\n\twindow.CarmoBulk.createFloatingCart = function() {\n\t\t// Implementar lógica do carrinho flutuante aqui\n\t\tconsole.log('Carrinho flutuante criado');\n\t};\n\n\tfunction handleQuantityChange(input, newValue) {\n\t\tif (!input) return Promise.reject(new Error('Input não encontrado'));\n\t\t\n\t\tconst productId = input.dataset.productId;\n\t\tif (!productId) return Promise.reject(new Error('ID do produto não encontrado'));\n\t\t\n\t\tconst row = input.closest('tr');\n\t\tif (!row) return Promise.reject(new Error('Linha da tabela não encontrada'));\n\t\t\n\t\tconst cartItemKeyInput = row.querySelector('.cart-item-key');\n\t\tconst cartItemKey = cartItemKeyInput ? cartItemKeyInput.value : '';\n\t\t\n\t\treturn updateCart(productId, null, newValue, cartItemKey);\n\t}\n\n\tfunction updateCart(productId, variationId, quantity, cartItemKey) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst data = {\n\t\t\t\tid: productId,\n\t\t\t\tquantity: quantity\n\t\t\t};\n\n\t\t\tif (variationId) {\n\t\t\t\tdata.variation_id = variationId;\n\t\t\t}\n\n\t\t\tif (cartItemKey) {\n\t\t\t\tjQuery.ajax({\n\t\t\t\t\turl: '/wp-json/wc/store/v1/cart/items/' + cartItemKey,\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\tbeforeSend: function(xhr) {\n\t\t\t\t\t\txhr.setRequestHeader('X-WC-Store-API-Nonce', document.getElementById('carmo-bulk-form').dataset.nonce);\n\t\t\t\t\t},\n\t\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\t\tcontentType: 'application/json',\n\t\t\t\t\tsuccess: resolve,\n\t\t\t\t\terror: reject\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tjQuery.ajax({\n\t\t\t\t\turl: '/wp-json/wc/store/v1/cart/items',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbeforeSend: function(xhr) {\n\t\t\t\t\t\txhr.setRequestHeader('X-WC-Store-API-Nonce', document.getElementById('carmo-bulk-form').dataset.nonce);\n\t\t\t\t\t},\n\t\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\t\tcontentType: 'application/json',\n\t\t\t\t\tsuccess: resolve,\n\t\t\t\t\terror: reject\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction showNotification(message, type = 'success') {\n\t\tconst notification = document.getElementById('carmo-notification');\n\t\tif (notification) {\n\t\t\tnotification.textContent = message;\n\t\t\tnotification.className = 'carmo-notification ' + type;\n\t\t\tnotification.style.display = 'block';\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tnotification.style.display = 'none';\n\t\t\t}, 3000);\n\t\t}\n\t}\n\n\tfunction updateFooterCart() {\n\t\t// Remover aria-hidden antes de atualizar\n\t\tconst siteBlocks = document.querySelector('.wp-site-blocks');\n\t\tif (siteBlocks) {\n\t\t\tsiteBlocks.removeAttribute('aria-hidden');\n\t\t}\n\n\t\t// Atualizar o carrinho diretamente\n\t\tjQuery.ajax({\n\t\t\turl: wc_cart_fragments_params.wc_ajax_url.toString().replace('%%endpoint%%', 'get_refreshed_fragments'),\n\t\t\ttype: 'POST',\n\t\t\tsuccess: function(data) {\n\t\t\t\tif (data && data.fragments) {\n\t\t\t\t\tjQuery.each(data.fragments, function(key, value) {\n\t\t\t\t\t\tjQuery(key).replaceWith(value);\n\t\t\t\t\t});\n\t\t\t\t\tjQuery(document.body).trigger('wc_fragments_refreshed');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// Adicionar listener para quando os fragmentos são atualizados\n\tjQuery(document.body).on('wc_fragments_refreshed', function() {\n\t\t// Restaurar o foco ao elemento apropriado\n\t\tconst activeElement = document.activeElement;\n\t\tif (activeElement && activeElement.classList.contains('quantity-button')) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tactiveElement.focus();\n\t\t\t}, 0);\n\t\t}\n\t});\n\n\t// Manipulador para os botões de produto\n\tdocument.body.addEventListener('click', async function(e) {\n\t\tconst productButton = e.target.closest('.quantity-button');\n\t\tif (!productButton) return;\n\t\t\n\t\te.preventDefault();\n\t\t\n\t\t// Encontra a linha da tabela (tr) primeiro\n\t\tconst row = productButton.closest('tr');\n\t\tif (!row) return;\n\t\t\n\t\t// Encontra o input de quantidade na mesma linha\n\t\tconst input = row.querySelector('.quantity-input');\n\t\tif (!input) return;\n\t\t\n\t\tconst currentValue = parseInt(input.value) || 0;\n\t\tlet increment = 0;\n\t\t\n\t\t// Verifica qual botão foi clicado\n\t\tif (productButton.classList.contains('product-plus-one')) increment = 1;\n\t\telse if (productButton.classList.contains('product-plus-five')) increment = 5;\n\t\telse if (productButton.classList.contains('product-plus-ten')) increment = 10;\n\t\t\n\t\tif (increment > 0) {\n\t\t\tconst newValue = currentValue + increment;\n\t\t\tinput.value = newValue;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tawait handleQuantityChange(input, newValue);\n\t\t\t\tshowNotification('Quantidade atualizada com sucesso');\n\t\t\t\tupdateFooterCart();\n\t\t\t} catch (error) {\n\t\t\t\tshowNotification('Erro ao atualizar quantidade', 'error');\n\t\t\t\tinput.value = currentValue; // Reverte para o valor anterior em caso de erro\n\t\t\t}\n\t\t}\n\t});\n\n\t// Atualiza o carrinho quando o input é alterado manualmente\n\tdocument.body.addEventListener('change', async function(e) {\n\t\tif (e.target.matches('.quantity-input')) {\n\t\t\tconst input = e.target;\n\t\t\tconst newValue = parseInt(input.value) || 0;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tawait handleQuantityChange(input, newValue);\n\t\t\t\tshowNotification('Quantidade atualizada com sucesso');\n\t\t\t\tupdateFooterCart();\n\t\t\t} catch (error) {\n\t\t\t\tshowNotification('Erro ao atualizar quantidade', 'error');\n\t\t\t}\n\t\t}\n\t});\n\n\t// Inicializa os valores do carrinho\n\tfunction updateQuantitiesFromCart() {\n\t\tjQuery.ajax({\n\t\t\turl: '/wp-json/wc/store/v1/cart',\n\t\t\tmethod: 'GET',\n\t\t\tbeforeSend: function(xhr) {\n\t\t\t\txhr.setRequestHeader('X-WC-Store-API-Nonce', document.getElementById('carmo-bulk-form').dataset.nonce);\n\t\t\t},\n\t\t\tsuccess: function(response) {\n\t\t\t\tif (response && response.items && response.items.length > 0) {\n\t\t\t\t\tresponse.items.forEach(item => {\n\t\t\t\t\t\tconst productId = item.id.toString();\n\t\t\t\t\t\tconst variationId = item.variation_id ? item.variation_id.toString() : null;\n\t\t\t\t\t\tconst quantity = item.quantity;\n\n\t\t\t\t\t\tlet quantityInput;\n\t\t\t\t\t\tlet keyInput;\n\t\t\t\t\t\tif (variationId) {\n\t\t\t\t\t\t\tconst row = document.querySelector(`input[type=\"hidden\"][value=\"${variationId}\"]`)?.closest('tr');\n\t\t\t\t\t\t\tif (row) {\n\t\t\t\t\t\t\t\tquantityInput = row.querySelector('.quantity-input');\n\t\t\t\t\t\t\t\tkeyInput = row.querySelector('.cart-item-key');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tquantityInput = document.querySelector(`input.quantity-input[data-product-id=\"${productId}\"]`);\n\t\t\t\t\t\t\tkeyInput = quantityInput?.closest('.quantity-controls').querySelector('.cart-item-key');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (quantityInput && keyInput) {\n\t\t\t\t\t\t\tquantityInput.value = quantity;\n\t\t\t\t\t\t\tkeyInput.value = item.key;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// Inicializa o estado do carrinho\n\tupdateQuantitiesFromCart();\n\n\tconst orderbySelect = document.querySelector('.carmo-orderby');\n\tif (orderbySelect) {\n\t\torderbySelect.addEventListener('change', function(e) {\n\t\t\tconst category = this.dataset.category;\n\t\t\tconst orderby = this.value;\n\t\t\t\n\t\t\t// Recarrega a página com os novos parâmetros de ordenação\n\t\t\tconst url = new URL(window.location);\n\t\t\turl.searchParams.set('orderby', orderby);\n\t\t\turl.searchParams.set('category', category);\n\t\t\twindow.location.href = url.toString();\n\t\t});\n\t}\n\n\t// Manipulador para o evento keypress nos inputs de quantidade\n\tdocument.body.addEventListener('keypress', async function(e) {\n\t\tif (e.target.matches('.quantity-input') && e.key === 'Enter') {\n\t\t\te.preventDefault(); // Previne o comportamento padrão do Enter\n\t\t\t\n\t\t\tconst input = e.target;\n\t\t\tconst newValue = parseInt(input.value) || 0;\n\t\t\tconst oldValue = parseInt(input.dataset.lastValue) || 0;\n\t\t\t\n\t\t\t// Não faz nada se o valor não mudou\n\t\t\tif (newValue === oldValue) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\ttry {\n\t\t\t\tawait handleQuantityChange(input, newValue);\n\t\t\t\tinput.dataset.lastValue = newValue; // Armazena o último valor válido\n\t\t\t\tshowNotification('Quantidade atualizada com sucesso');\n\t\t\t\tupdateFooterCart();\n\t\t\t\tinput.blur(); // Remove o foco do input\n\t\t\t} catch (error) {\n\t\t\t\tshowNotification('Erro ao atualizar quantidade', 'error');\n\t\t\t\tinput.value = oldValue; // Reverte para o valor anterior em caso de erro\n\t\t\t}\n\t\t}\n\t});\n\n\t// Atualiza o valor inicial dos inputs\n\tdocument.querySelectorAll('.quantity-input').forEach(input => {\n\t\tinput.dataset.lastValue = input.value;\n\t});\n\n\t// Atualiza o último valor válido quando o input perde o foco\n\tdocument.body.addEventListener('blur', function(e) {\n\t\tif (e.target.matches('.quantity-input')) {\n\t\t\tconst input = e.target;\n\t\t\tconst currentValue = parseInt(input.value) || 0;\n\t\t\tinput.dataset.lastValue = currentValue;\n\t\t}\n\t}, true);\n});\n"],"names":["store","getContext","window","CarmoBulk","state","themeText","isDark","darkText","lightText","actions","toggleOpen","context","isOpen","toggleTheme","clearCart","confirm","jQuery","ajax","url","method","beforeSend","xhr","setRequestHeader","document","getElementById","dataset","nonce","success","response","querySelectorAll","forEach","input","value","updateFooterCart","showNotification","error","jqXHR","callbacks","logIsOpen","console","log","addEventListener","createFloatingCart","handleQuantityChange","newValue","Promise","reject","Error","productId","row","closest","cartItemKeyInput","querySelector","cartItemKey","updateCart","variationId","quantity","resolve","data","id","variation_id","JSON","stringify","contentType","message","type","notification","textContent","className","style","display","setTimeout","siteBlocks","removeAttribute","wc_cart_fragments_params","wc_ajax_url","toString","replace","fragments","each","key","replaceWith","body","trigger","on","activeElement","classList","contains","focus","e","productButton","target","preventDefault","currentValue","parseInt","increment","matches","updateQuantitiesFromCart","items","length","item","quantityInput","keyInput","orderbySelect","category","orderby","URL","location","searchParams","set","href","oldValue","lastValue","blur"],"sourceRoot":""}